extends layout

mixin listAuths(authors)
  ul(class="list-items authors_list")
    each author in authors
      - var aid = author.ID;
      - var posts = author_posts[aid];
      - var trgtprop = 'authors/' + aid;
      
      li(class='author select_link', id=trgtprop) #{author.display_name}

  script.
    $(function() {
      $('.author').click(function(e){
        e.preventDefault();
        console.log('author_posts', $(this).attr("id"));
        $('#author_posts').show().load('http://localhost:3001/' + $(this).attr("id") + '/posts');
      });
      $('.category').click(function(e) {
        e.preventDefault();
        var chbx = $($(this).find('input')[0]);
        var stat = chbx.prop("checked");
        chbx.prop("checked", ! stat );
        $(this).css('background-color', stat ? '#fff' : '#aaa');
      });
    });

block content
  h1=Publisher

  <!-- Board info bar -->
  <section class="board-info-bar">
    <div class="board-controls">
      <div class="board-title btn"><h2>Rasa CMS - Publisher</h2></div>
      <div class="star-btn btn"><i class="far fa-star"></i> </div>
      <div class="personal-btn btn">Personal sdaff</div>
    </div>

    <div class="menu-btn btn"><i class="fas fa-ellipsis-h menu-btn-icon"></i>Show Menu</div>

  </section>
  <!-- End of board info bar -->

  <!-- Lists container -->
  <section class="lists-container">

    <div class="list">
      <h3 class="list-title">Authors</h3>
      +listAuths(authors)
    </div>

    <div class="list" style="display: none;" id="author_posts">author_posts</div>

    <div style="display: inline-block; width: 300px; height: 320px;">
      <div class="list" id="post_block" style="display: none;  width: 28em; height: 36em; text-align: center;">
        <span class="list-title"><h3>Create Article</h3> Upload: .doc, header image</span>
        <ul class="list-items">
        <div class="dropzone dropzone-previews" id="post_block_form" style="display: inline-block; background-color: #727476; border-radius: 0.3rem; margin: auto; position: relative; border: 1px solid orange; width: 26em; height: 26em;"></div>
        </ul>
      </div>
    </div>

    <div class="list" id="categories" style="display: none;">
      <h3 class="list-title">Categories</h3>
      ul(class="list-items")
        each category in categories
          li(class='category')
            div
              input(type="checkbox", id='category/' + category.term_id, name="category", value=category.term_id)
              label(for='category/' + category.term_id) /#{category.parentName}/#{category.name}
    </div>
   
    <div class="add-list">Add a list...</div>





  </section>
  <!-- End of lists container -->


//- ,{
//-   "ID":572,
//-   "post_title":"Irreverent Sanskrit Verse",
//-   "post_name":"irreverent-sanskrit-verse",
//-   "post_date":"2016-11-05 07:20:53","post_status":"publish"
//-   },
//- {"ID":77,"post_title":"Selling Yoga: From Counterculture to Pop Culture","post_name":"selling-yoga-from-counterculture-to-pop-culture","post_date":"2016-11-02 05:59:59","post_status":"publish"},{"ID":15,"post_title":"Flirting with Shakti:  Tantric Insights in Dealing with Our Inner Shadow","post_name":"flirting-with-shakti-tantric-insights-in-dealing-with-our-inner-shadow","post_date":"2016-10-20 15:34:29","post_status":"publish"},{"ID":9,"post_title":"Incarnations - India in Fifty Lives","post_name":"incarnations-india-in-fifty-lives","post_date":"2016-10-20 15:31:51","post_status":"publish"},{"ID":148,"post_title":"Translating Rasul Mir: Poet of Kashmir","post_name":"translating-rasul-mir","post_date":"2016-06-22 01:49:35","post_status":"publish"}]


//-  "ID","post_title","post_name","post_date","post_status","post_author"
//- {"ID":148,"post_title":"Translating Rasul Mir: Poet of Kashmir","post_name":"translating-rasul-mir","post_status":"publish","post_author":"2"}
//-  {"ID":148,"post_title":"Translating Rasul Mir: Poet of Kashmir","post_name":"translating-rasul-mir","post_status":"publish","post_author":"2"}]
//- wp post list --post_type=post  --fields=ID,post_title,post_name,post_status,post_author  --format=json
